<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="theme-color" content="#1a1a1a"><meta name="msapplication-navbutton-color" content="#1a1a1a"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>huyangpahuo</title><script>(function() {
  // 尽早应用暗色模式，防止闪烁
  var savedDarkMode = localStorage.getItem('darkMode') === 'true';
  if (savedDarkMode) {
    document.documentElement.classList.add('dark-mode');
  }
})();
</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Playfair+Display:wght@400;500;600;700&amp;family=Fira+Code:wght@400;500&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="icon" href="/null">
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="/css/tags.css">

<link rel="stylesheet" href="/css/categories.css">

<link rel="stylesheet" href="/css/categories-accordion.css">

<link rel="stylesheet" href="/css/highlight.css">

<link rel="stylesheet" href="/css/toc.css">

<link rel="stylesheet" href="/css/image-zoom.css">

<link rel="stylesheet" href="/css/share.css">

<link rel="stylesheet" href="/css/mobile-nav.css">

<link rel="stylesheet" href="/css/search.css">

<link rel="stylesheet" href="/css/scrollbar.css">

<link rel="stylesheet" href="/css/timeline.css">

<link rel="stylesheet" href="/css/animations.css">

<link rel="stylesheet" href="/css/ai-theme.css">

<link rel="stylesheet" href="/css/loading-animation.css">
<!-- 条件加载关于页面样式--><style>:root {
  --primary-color: #1a1a1a;
  --secondary-color: #666666;
  --accent-color: #ff6b6b;
  --background-color: #ffffff;
  --text-color: #333333;
  --overlay-color: rgba(0, 0, 0, 0.7);
  --tag-background-color: #ffffff;
  --card-background-color: #ffffff;
}
</style><link rel="stylesheet" href="https://cdn1.tianli0.top/gh/qxchuckle/Post-Summary-AI/chuckle-post-ai.css"><meta name="generator" content="Hexo 8.0.0"></head><body><div id="app"><header class="header navbar-bubble"><nav class="nav"><div class="nav-container"><div class="nav-logo"><a href="/"><span class="nav-title">huyangpahuo</span></a></div><div class="nav-menu"><a class="nav-item" href="/">首页</a><a class="nav-item" href="/about/">关于</a><a class="nav-item" href="/archives/">归档</a><a class="nav-item" href="/categories/">分类</a><a class="nav-item" href="/tags/">标签</a><div class="nav-item has-submenu"><span class="nav-link">网站</span><div class="submenu"><a class="submenu-item" target="_blank" rel="noopener" href="https://huyangpahuo.github.io/">我的另一个网站</a><a class="submenu-item" target="_blank" rel="noopener" href="https://huyangpahuo.vercel.app/">我的另二个网站(狗头)</a></div></div><div class="nav-item has-submenu"><span class="nav-link">语言(Language)</span><div class="submenu"><a class="submenu-item" href="/">中文</a><a class="submenu-item" href="/en/">English</a></div></div><!-- 搜索按钮--><div class="search-toggle"><i class="fas fa-search"></i></div></div><div class="nav-toggle"><span></span><span></span><span></span></div></div></nav></header><div class="search-overlay"><div class="search-container"><div class="search-form"><input class="search-input" type="text" placeholder="搜索文章..."/><div class="search-close">×</div></div><div class="search-results"></div></div></div><main class="main"><div class="post-wrapper"><div class="toc-sidebar"><div class="toc-container"><div class="toc-title">目录</div><div class="toc-content" id="table-of-contents"><!-- Table of contents will be generated by JavaScript--></div></div></div><article class="post-container"><div class="post-header"><div class="post-cover"><img src="/images/12.png" alt="love2d学习第二天--学习lua的基本语法和关键字"/></div><div class="post-meta"><div class="post-category"><a href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/">游戏开发</a></div><div class="post-date"><time datetime="2025-12-14T09:10:59.000Z">十二月 14, 2025</time></div><div class="post-author"><span>By huyangpahuo</span></div></div><h1 class="post-title">love2d学习第二天--学习lua的基本语法和关键字</h1><div class="post-tags"><a class="tag" href="/tags/love2d/">love2d</a><a class="tag" href="/tags/lua/">lua</a></div></div><!-- AI摘要模块容器--><div id="post-ai-container"></div><div class="post-content"><h1 id="首先在学习Love2d之前我们先熟悉该引擎所依赖的语言—–Lua-这里我们就用lua5-4吧-毕竟功能多"><a href="#首先在学习Love2d之前我们先熟悉该引擎所依赖的语言—–Lua-这里我们就用lua5-4吧-毕竟功能多" class="headerlink" title="首先在学习Love2d之前我们先熟悉该引擎所依赖的语言—–Lua(这里我们就用lua5.4吧,毕竟功能多)"></a>首先在学习Love2d之前我们先熟悉该引擎所依赖的语言—–Lua(这里我们就用lua5.4吧,毕竟功能多)</h1><h2 id="第一个程序-输出Hello-Genshin-Impact"><a href="#第一个程序-输出Hello-Genshin-Impact" class="headerlink" title="第一个程序:输出Hello Genshin Impact"></a>第一个程序:输出Hello Genshin Impact</h2><p>其实上一篇我们已经输出过这句话了,不过再看一遍吧[<font color='LightSkyBlue'>狗头</font>]  [<font color='Red'>狗头</font>]  [<font color='Gold'>狗头</font>]</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello Genshin Impact!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>这个在其他语言中的表现形式片段展示一下吧(就全扯一遍我见过的吧,反正都是随便写的伪代码片段哈哈哈)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello Genshin Impact!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span> &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Hello Genshin Impact!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello Genshin Impact!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello Genshin Impact!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello Genshin Impact!&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello Genshin Impact!&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#GDScript伪代码</span><br><span class="line">print(&quot;Hello Genshin Impact!&quot;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//Unity C#伪代码</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class HelloGenshin : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(&quot;Hello Genshin Impact!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//Godot C#伪代码</span><br><span class="line">using Godot;</span><br><span class="line"></span><br><span class="line">public partial class HelloGenshin : Node</span><br><span class="line">&#123;</span><br><span class="line">    public override void _Ready()</span><br><span class="line">    &#123;</span><br><span class="line">        GD.Print(&quot;Hello Genshin Impact!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;AutoHotkey V2伪代码</span></span><br><span class="line">Print(<span class="string">&quot;Hello Genshin Impact!&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> = println(<span class="string">&quot;Hello Genshin Impact!&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello Genshin Impact!&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123; <span class="built_in">println!</span>(<span class="string">&quot;Hello Genshin Impact!&quot;</span>); &#125;</span><br></pre></td></tr></table></figure>

<p>可以看出像lua这种缩进式语言还是及其简洁的,就像python和GDscript一样</p>
<p>不过我就在这一主题中专心于lua这一种语言吧,其实语言没有优劣之分,只是分工不同,就看会不会用哦,不会用就算语言再高级也是没用的,就像送给原始人笔记本电脑一样（ ￣ー￣）</p>
<p>OK,不废话了,先说第一个—–注释</p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>lua语言注释的格式是,作用是写点能提醒自己自己写的是什么东西的话(不要相信你自己的记忆力,真的,头一天写睡一觉忘得一干二净很正常  (＞﹏＜)  ),而编译器或引擎会忽略这句话</p>
<p>但是我们一般不会一点一点的敲符号的,在VScode里我们可以选中要注释的文本直接使用快捷键<font color='Turquoise'>Ctrl + &#x2F;</font></p>
<p>什么,你说怎么取消注释,其实再按一下<font color='Turquoise'>Ctrl + &#x2F;</font> 就取消了</p>
<p>同理多行注释是<font color='Turquoise'> shift +alt +a</font></p>
<p>代码格式化是<font color='Turquoise'> shift +alt +f</font>   或 <font color='Turquoise'>ctrl +K ,ctrl +F</font>，区别是前者是格式化鼠标选择区域的代码,后者是 格式化整个文件的代码</p>
<p>如果用不惯的话可以自定义</p>
<p>​	<style>.ismbyyxwvgbu{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218213220074.png" class="ismbyyxwvgbu" alt="image-20251218213220074"></p>
<p>输入<font color='Turquoise'>comment</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">comment</span><br></pre></td></tr></table></figure>

<p>​	<style>.ttbtqvcpvqlf{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218213348246.png" class="ttbtqvcpvqlf" alt="image-20251218213348246"></p>
<p>如图,行注释就是单行注释,块注释就是多行注释,这里多行注释我已经调成我喜欢的<font color='Turquoise'>ctrl + shift + &#x2F;</font></p>
<p><font color='Red'>右键</font>中间的<font color='Red'>键绑定</font>部分点击“<font color='Red'>更改键绑定</font>”自己修改即可</p>
<p>​	<style>.hggqnuofwbff{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218220629962.png" class="hggqnuofwbff" alt="image-20251218220629962"></p>
<p>​	<style>.eojnfgyxonfe{zoom: 50%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218213513573.png" class="eojnfgyxonfe" alt="image-20251218213513573"></p>
<p>代码格式化的我们可以这样调</p>
<p>同理,输入<font color='Turquoise'> format document</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">format document</span><br></pre></td></tr></table></figure>

<p>​	<style>.xklclguuboqm{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218214502376.png" class="xklclguuboqm" alt="image-20251218214502376"></p>
<p>​	把里面的快捷键自己调成你喜欢的,我因为一大堆插件造成快捷键冲突所以我就不改了</p>
<p><font color='Turquoise'>单行注释</font></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--hello,我是牢大,我爱冰红茶</span></span><br></pre></td></tr></table></figure>

<p><font color='Turquoise'>多行注释</font></p>
<p>格式:在单行注释后面加上[[    注释内容    ]]</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment"> man!</span></span><br><span class="line"><span class="comment"> what can I say</span></span><br><span class="line"><span class="comment">]]</span></span><br></pre></td></tr></table></figure>

<p>有些曼波小伙伴可能会这么干,这是达咩的哟,lua不允许嵌套注释</p>
<p>​	<style>.qjvhfwswuirs{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218220350743.png" class="qjvhfwswuirs" alt="image-20251218220350743"></p>
<h2 id="语言风格"><a href="#语言风格" class="headerlink" title="语言风格"></a>语言风格</h2><p>lua有点类似于JavaScript,像大多数语言比如C,Java,C#,C++都是强制每句代码后都有一个分号“<font color='Red'> ;</font> ”</p>
<p>但是lua可要可不要,一般不要,比如下面两种写法都对(先保存再运行代码,不然结果还是之前的)</p>
<p>​	<style>.nmmhkvrbienp{zoom:25%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218212058977.png" class="nmmhkvrbienp" alt="image-20251218212058977"></p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量命名规则和其他语言基本一致</p>
<p>通常是小写字母加数字或者“_”符号,或者是那种驼峰命名法</p>
<p>比如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">player</span><br><span class="line">item</span><br><span class="line">tree_01</span><br><span class="line">enemy_orc</span><br><span class="line">myInventory</span><br></pre></td></tr></table></figure>

<p>Lua 中的变量全是全局变量，哪怕是语句块或是函数里，除非用 local 显式声明为局部变量</p>
<p>局部变量的作用域为从声明位置开始到所在语句块结束,这个等会儿会在脚本中演示</p>
<p>在 Lua 中：</p>
<blockquote>
<p><strong>不写 <code>local</code> 的变量 &#x3D; 全局变量</strong><br> <strong>写了 <code>local</code> 的变量 &#x3D; 只在当前作用域可见</strong></p>
</blockquote>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>这个基本上相比其他语言关键字不是很多,先不讲以后慢慢说</p>
<table>
<thead>
<tr>
<th align="center">and</th>
<th align="center">break</th>
<th align="center">do</th>
<th align="center">else</th>
</tr>
</thead>
<tbody><tr>
<td align="center">elseif</td>
<td align="center">end</td>
<td align="center">false</td>
<td align="center">for</td>
</tr>
<tr>
<td align="center">function</td>
<td align="center">if</td>
<td align="center">in</td>
<td align="center">local</td>
</tr>
<tr>
<td align="center">nil</td>
<td align="center">not</td>
<td align="center">or</td>
<td align="center">repeat</td>
</tr>
<tr>
<td align="center">return</td>
<td align="center">then</td>
<td align="center">ture</td>
<td align="center">until</td>
</tr>
<tr>
<td align="center">while</td>
<td align="center">goto</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>lua有8种数据类型,如下:</p>
<table>
<thead>
<tr>
<th align="center">数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">nil(空)</td>
<td>类似其他语言的null,也就是表示空值的意思,nil就是<font color='Red'>假</font></td>
</tr>
<tr>
<td align="center">boolean(布尔)</td>
<td>布尔值,只能表示,false和true,false为<font color='Red'>假</font>,true就是<font color='Red'>真</font></td>
</tr>
<tr>
<td align="center">number(数字)</td>
<td>这个可以表示整型和浮点型,浮点的话默认双精度double,只是lua统一为<font color='Red'>number</font>类型</td>
</tr>
<tr>
<td align="center">string(字符串)</td>
<td>字符串类型,可以用双引号<font color='Red'>“ ”</font> 单引号<font color='Red'> ‘ ’ </font> 双长括号<font color='Red'> [[  ]]</font></td>
</tr>
<tr>
<td align="center">function(函数)</td>
<td>函数(或方法),几乎每个语言都会有的东西,用来实现特定的功能</td>
</tr>
<tr>
<td align="center">userdata(自定义类型)</td>
<td>一种用户自定义数据，用于表示一种由应用程序或 C&#x2F;C++ 语言库所创建的类型，可以将任意 C&#x2F;C++ 的任意数据类型的数据（通常是 struct 和 指针）存储到 Lua 变量中调用</td>
</tr>
<tr>
<td align="center">thread(线程)</td>
<td>类似于unity中的协程方法,不过unity是单线程的                                                                                                               在 Lua 里,最主要的线程是协同程序（coroutine),即协程。它跟线程（thread）差不多，拥有自己独立的栈、局部变量和指令指针，可以跟其他协同程序共享全局变量和其他大部分东西。                                                                                           线程跟协程的区别：线程可以同时多个运行，而协程任意时刻只能运行一个，并且处于运行状态的协程只有被挂起（suspend）时才会暂停。</td>
</tr>
<tr>
<td align="center">table(表)</td>
<td>类似于其他语言的数组array,数组的索引可以是数字,字符串,甚至是table本身,这个特点和其他语言一致</td>
</tr>
</tbody></table>
<h3 id="nil-空"><a href="#nil-空" class="headerlink" title="nil(空)"></a>nil(空)</h3><p>nil 类型表示一种没有任何有效值，例如打印一个没有赋值的变量，便会输出一个 nil 值：</p>
<p>比如我们用<font color='Red'>type</font>输出此时没有赋值的a,那么结果就是  nil</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br></pre></td></tr></table></figure>

<p>​	<style>.poohrwhoriql{zoom:25%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218215324165.png" class="poohrwhoriql" alt="image-20251218215324165"></p>
<p><font color='Red'>type</font>类似JavaScript和TypeScript里的typeof,可以输出变量的数据类型</p>
<p>比如</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="string">&quot;Hello world&quot;</span>))      <span class="comment">-- string</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">10.4</span>*<span class="number">3</span>))             <span class="comment">-- number</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">print</span>))              <span class="comment">-- function</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">type</span>))               <span class="comment">-- function</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="literal">true</span>))               <span class="comment">-- boolean</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="literal">nil</span>))                <span class="comment">-- nil</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">type</span>(X)))            <span class="comment">-- string</span></span><br></pre></td></tr></table></figure>

<p>​	<style>.onoosbkgidiu{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218215715884.png" class="onoosbkgidiu" alt="image-20251218215715884"></p>
<p>同样的nil可以用来删除数据,这个先不提,等会讲到table表的时候再讲一下</p>
<h3 id="boolean（布尔）"><a href="#boolean（布尔）" class="headerlink" title="boolean（布尔）"></a>boolean（布尔）</h3><p>boolean 类型只有两个可选值：true（真） 和 false（假）</p>
<p>Lua 把 false 和 nil 看作是 false，其他的（包括数字 0)都为 true</p>
<p>这里涉及了if else语句,先不要管,先写了再说,这个其实表示判断,if  和 then之间的内容代表条件,满足条件执行上一条,不满足就是下一条</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="literal">false</span> <span class="keyword">or</span> <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;至少有一个是true&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;false和nil都为false&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;0在Lua中被视为true&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;0在Lua中被视为false&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>​	<style>.rtweresmbwqt{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218221300456.png" class="rtweresmbwqt" alt="image-20251218221300456"></p>
<p>​	哦,可能学过其他语言的会困惑第二个输出结果: 0为啥是真,好吧,也算是lua的特性</p>
<p>​	<style>.sypaolrrekhs{zoom: 33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218221855925.png" class="sypaolrrekhs" alt="image-20251218221855925"></p>
<p>这里再扯一下其他语言中的情况(了解即可)</p>
<p>​	<style>.weohilqhwbwu{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218222007218.png" class="weohilqhwbwu" alt="image-20251218222007218"></p>
<p>​	<style>.hvtsxlcifruo{zoom: 50%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218222038262.png" class="hvtsxlcifruo" alt="image-20251218222038262"></p>
<p>​	<style>.cmglhchoxbnw{zoom: 50%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218222128775.png" class="cmglhchoxbnw" alt="image-20251218222128775"></p>
<p>​	<style>.hrcymffrlwlh{zoom:50%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218222218181.png" class="hrcymffrlwlh" alt="image-20251218222218181"></p>
<p>​	<style>.qlstmhefpbqq{zoom: 50%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218222407529.png" class="qlstmhefpbqq" alt="image-20251218222407529"></p>
<p>可以看出这些语言除了Java 和C#是强类型语言外,其他的大多数把0当做false</p>
<h3 id="number-数字"><a href="#number-数字" class="headerlink" title="number(数字)"></a>number(数字)</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">2.2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">0.2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">2e+1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">0.2e-1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">7.8263692594256e-06</span>))</span><br></pre></td></tr></table></figure>

<p>​	<style>.ocpqljudrxzr{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218223512982.png" class="ocpqljudrxzr" alt="image-20251218223512982"></p>
<p>可以看到,无论是科学计数法还是整数小数都是表示number类型的</p>
<p>这和C#,C,C++等等语言不一样,比如C# 整型是int  单精度浮点float  双精度浮点double</p>
<h3 id="string-字符串"><a href="#string-字符串" class="headerlink" title="string(字符串)"></a>string(字符串)</h3><p>对了,lua的字符串拼接方式就是用两个点  ‘ <font color='Turquoise'>..</font> ’,除了C和C++以外其他的语言大多数都可以用“ + ”号来拼接字符串的</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string1 = <span class="string">&quot;基&quot;</span>	<span class="comment">--写法一</span></span><br><span class="line">string2 = <span class="string">&#x27;泥&#x27;</span>	<span class="comment">--写法二</span></span><br><span class="line">string3 = <span class="string">[[苔煤]]</span>	<span class="comment">--写法三</span></span><br><span class="line"><span class="built_in">print</span>(string1 .. string2 .. string3)</span><br></pre></td></tr></table></figure>

<p>​	<style>.hlfmvpksgqew{zoom:25%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218225433463.png" class="hlfmvpksgqew" alt="image-20251218225433463"></p>
<p>哦,我们需要加一个<font color='Red'>local</font>关键字将其设置为局部变量</p>
<p>这玩意作用就是:<strong>声明一个仅当前范围可见的变量，避免污染外层</strong>,大白话就是用local把变量设为局部私有</p>
<p>​	<style>.nsoxfmrlihnq{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251218233459562.png" class="nsoxfmrlihnq" alt="image-20251218233459562"></p>
<p>对了,打印的方式我们也扯一下</p>
<p>第一种:打印一句</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;带不带派老铁&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>第二种:打印好几句</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;太带派了&quot;</span>, <span class="string">&quot;雨姐&quot;</span>, <span class="string">&quot;大东北&quot;</span>, <span class="string">&quot;是我的家乡&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>第三种:换行打印</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;小明剑魔曰:\n你的评分是\n3.0&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>第四种:自动字符串化(这个和python很像鹅)</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> diamond = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;玩家Steve开矿透挖到了:&quot;</span>, diamond..<span class="string">&quot;组钻石&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>第五种:格式化打印,使用  string.format() 方法</p>
<p>这个需要了解一下这些符号,学过C  或者 C++的小伙伴绝对老熟悉了</p>
<ul>
<li><code>%s</code>: 字符串</li>
<li><code>%d</code> 或 <code>%i</code>: 有符号整数</li>
<li><code>%f</code>: 浮点数 (默认精度为 6 位小数)</li>
<li><code>%c</code>: ASCII 字符</li>
<li><code>%x</code> &#x2F; <code>%X</code>: 十六进制数 (小写&#x2F;大写)</li>
<li><code>%%</code>: 输出一个字面量百分号</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> age = <span class="string">&quot;未知&quot;</span></span><br><span class="line"><span class="keyword">local</span> name = <span class="string">&quot;欧润吉&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;角色名称: %s, 年龄: %s&quot;</span>, name, age))</span><br></pre></td></tr></table></figure>

<p>第六种:更自由的格式化打印(其实是自己设定的规则啦,即正则表达式)———先不了解,目前也用不上,看看就行啦</p>
<p>这个有几种我喜欢用的,因为lua自带的格式化方法具有很多局限性</p>
<p>第一种如下(功能最少,但勉强能用)</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 定义一个自定义格式化函数</span></span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">formatString</span><span class="params">(fmt, tbl)</span></span></span><br><span class="line">    <span class="comment">-- 使用 gsub 替换 %&#123;key&#125; 为对应的值</span></span><br><span class="line">    <span class="keyword">return</span> (fmt:<span class="built_in">gsub</span>(<span class="string">&quot;%%&#123;(%w+)&#125;&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">(key)</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">tostring</span>(tbl[key])</span><br><span class="line">    <span class="keyword">end</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用自定义格式化函数</span></span><br><span class="line"><span class="keyword">local</span> data = &#123;</span><br><span class="line">    name = <span class="string">&quot;刺客伍六七&quot;</span>,</span><br><span class="line">    gender = <span class="string">&quot;男&quot;</span>,</span><br><span class="line">    weapon = <span class="string">&quot;魔刀千刃&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> formatted = formatString(<span class="string">&quot;姓名: %&#123;name&#125;, 性别: %&#123;gender&#125;, 专武: %&#123;weapon&#125;&quot;</span>, data)</span><br><span class="line"><span class="built_in">print</span>(formatted)</span><br></pre></td></tr></table></figure>

<p>​	<style>.dynpsewrxtdu{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221233542362.png" class="dynpsewrxtdu" alt="image-20251221233542362"></p>
<p>第二种如下(支持的功能增加一点,但是还是功能局限性)</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">formatString</span><span class="params">(fmt, tbl, default)</span></span></span><br><span class="line">    <span class="keyword">return</span> (fmt:<span class="built_in">gsub</span>(<span class="string">&quot;%%&#123;([%w%-_]+)&#125;&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">(key)</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">tostring</span>(tbl[key] <span class="keyword">or</span> default)</span><br><span class="line">    <span class="keyword">end</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> data = &#123;</span><br><span class="line">    user_name = <span class="string">&quot;梅花十三&quot;</span>,</span><br><span class="line">    user_age  = <span class="literal">nil</span>,</span><br><span class="line">    user_city = <span class="string">&quot;玄武国&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> formatted = formatString(<span class="string">&quot;Name: %&#123;user_name&#125;, Age: %&#123;user_age&#125;, City: %&#123;user_city&#125;&quot;</span>, data, <span class="string">&quot;未知&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(formatted)</span><br></pre></td></tr></table></figure>

 <style>.swxbrjdhskxr{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221234845870.png" class="swxbrjdhskxr" alt="image-20251221234845870">



<p>第三种(专业级别的模版)</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 底层逻辑,负责字典格式化输出</span></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> Template = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">getByPath</span><span class="params">(root, path)</span></span></span><br><span class="line">    <span class="keyword">local</span> current = root</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">path</span>:<span class="built_in">gmatch</span>(<span class="string">&quot;[^%.]+&quot;</span>) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(current) ~= <span class="string">&quot;table&quot;</span> <span class="keyword">then</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">local</span> index = <span class="built_in">tonumber</span>(key)</span><br><span class="line">        current = index <span class="keyword">and</span> current[index] <span class="keyword">or</span> current[key]</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> current</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Template.format</span><span class="params">(text, context, options)</span></span></span><br><span class="line">    context = context <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">    options = options <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">local</span> default = options.default <span class="keyword">or</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (text:<span class="built_in">gsub</span>(<span class="string">&quot;%%&#123;([^&#125;]+)&#125;&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">(path)</span></span></span><br><span class="line">        <span class="keyword">local</span> value = getByPath(context, <span class="built_in">path</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> value == <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">tostring</span>(default)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(value) == <span class="string">&quot;function&quot;</span> <span class="keyword">then</span></span><br><span class="line">            <span class="keyword">local</span> ok, result = <span class="built_in">pcall</span>(value, context)</span><br><span class="line">            <span class="keyword">return</span> ok <span class="keyword">and</span> <span class="built_in">tostring</span>(result) <span class="keyword">or</span> <span class="built_in">tostring</span>(default)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">tostring</span>(value)</span><br><span class="line">    <span class="keyword">end</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 玩家数据</span></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> data = &#123;</span><br><span class="line">    weapons = &#123;</span><br><span class="line">        weapon_01 = &#123;</span><br><span class="line">            name = <span class="string">&quot;魔刀千刃&quot;</span>,</span><br><span class="line">            damage = <span class="number">15000</span></span><br><span class="line">        &#125;,</span><br><span class="line">        weapon_02 = &#123;</span><br><span class="line">            name = <span class="string">&quot;激光炮&quot;</span>,</span><br><span class="line">            damage = <span class="number">8000</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    character = &#123;</span><br><span class="line">        player_01 = &#123;</span><br><span class="line">            name = <span class="string">&quot;伍六七&quot;</span>,</span><br><span class="line">            camp = <span class="string">&quot;玄武国&quot;</span>,</span><br><span class="line">            base_power = <span class="number">100</span>,</span><br><span class="line">            weapon = <span class="string">&quot;weapon_01&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        player_02 = &#123;</span><br><span class="line">            name = <span class="string">&quot;斯特国王子&quot;</span>,</span><br><span class="line">            camp = <span class="string">&quot;斯特国&quot;</span>,</span><br><span class="line">            base_power = <span class="number">100</span>,</span><br><span class="line">            weapon = <span class="string">&quot;weapon_02&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 角色信息注入</span></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">injectActor</span><span class="params">(actor, ctx)</span></span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="comment">--角色名字</span></span><br><span class="line">        name = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            <span class="keyword">return</span> actor.name <span class="keyword">or</span> <span class="string">&quot;未知&quot;</span></span><br><span class="line">        <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">--角色阵营</span></span><br><span class="line">        camp = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            <span class="keyword">return</span> actor.camp <span class="keyword">or</span> <span class="string">&quot;未知&quot;</span></span><br><span class="line">        <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">--角色专武</span></span><br><span class="line">        weapon = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            <span class="keyword">if</span> actor.weapon <span class="keyword">then</span></span><br><span class="line">                <span class="keyword">local</span> w = ctx.weapons[actor.weapon]</span><br><span class="line">                <span class="keyword">return</span> w <span class="keyword">and</span> w.name <span class="keyword">or</span> <span class="string">&quot;未知&quot;</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;未知&quot;</span></span><br><span class="line">        <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">--角色武力</span></span><br><span class="line">        power = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            <span class="keyword">local</span> weapon_damage = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> actor.weapon <span class="keyword">then</span></span><br><span class="line">                <span class="keyword">local</span> w = ctx.weapons[actor.weapon]</span><br><span class="line">                weapon_damage = w <span class="keyword">and</span> w.damage <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">return</span> ((actor.base_power <span class="keyword">or</span> <span class="number">0</span>) + (weapon_damage <span class="keyword">or</span> <span class="number">0</span>)) <span class="keyword">or</span> <span class="string">&quot;未知&quot;</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 我方和敌方</span></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> context_ally = &#123;</span><br><span class="line">    actor = injectActor(data.character.player_01, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> context_enemy = &#123;</span><br><span class="line">    actor = injectActor(data.character.player_02, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 信息打印</span></span><br><span class="line"><span class="comment">--------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 决战双方揭晓</span></span><br><span class="line"><span class="built_in">print</span>(Template.<span class="built_in">format</span>(</span><br><span class="line">    <span class="string">&quot;决战双方：%&#123;character.player_01.name&#125; VS %&#123;character.player_02.name&#125;\n&quot;</span>,</span><br><span class="line">    data</span><br><span class="line">))</span><br><span class="line"></span><br><span class="line"><span class="comment">--双方信息展示</span></span><br><span class="line"><span class="keyword">local</span> tpl = <span class="string">&quot;角色：%&#123;actor.name&#125;\n阵营：%&#123;actor.camp&#125;\n武力：%&#123;actor.power&#125;\n专武：%&#123;actor.weapon&#125;\n\n&quot;</span></span><br><span class="line"><span class="built_in">print</span>(Template.<span class="built_in">format</span>(tpl, context_ally))</span><br><span class="line"><span class="built_in">print</span>(Template.<span class="built_in">format</span>(tpl, context_enemy))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​	<style>.tfwdsfyknrpu{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251222203855065.png" class="tfwdsfyknrpu" alt="image-20251222203855065"></p>
<p>咳咳咳,扯太远了</p>
<p>对了,如你所见,刚才这个”     string1 &#x3D; “基”   ”字符串我只取名为变量名string1,没有显示声明这是字符串string类型,而是用local关键字</p>
<p>补充一下(变量的作用域):</p>
<ul>
<li><p><strong>写在函数&#x2F;方法&#x2F;语句块体外</strong> → <font color='Red'>全局（整个文件、整个程序可见）变量</font></p>
</li>
<li><p><strong>写在函数&#x2F;方法&#x2F;语句块体内</strong> → <font color='Red'>局部（只在那个函数&#x2F;块内部可见）变量</font></p>
<p>最好的例子就是Java和C#里的public和private关键字</p>
<p>这里我们就用  Unity 游戏引擎里的C#讲解一下吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//unity脚本</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class PlayerLogic : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">   public int hp = 100;        // 外部可访问,公开变量</span><br><span class="line">   private int speed = 5;      // 仅类内部使用,外部不可调用,private可以省略不写,私有变量</span><br><span class="line"></span><br><span class="line">   void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(hp);</span><br><span class="line">        Debug.Log(speed);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	//随便写一个方法</span><br><span class="line">    public void Move()</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(&quot;Move with speed &quot; + speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如你所见,public 可以让整个项目的所有脚本都可以获取这个变量,private只能让当前脚本使用这个变量</p>
<p>我们的lua也是这样的,如果不给变量或者方法加local关键字,则默认就是全局公开的,这一点和unity的C#是相反的,C#不加关键字就是默认是局部私有的</p>
<p>对了,.在C,java,C#,C++里都会给变量指定一个数据类型例如整型int  字符串string  浮点型float或double等等</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">apple</span> <span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"><span class="type">var</span> <span class="variable">banana</span> <span class="operator">=</span><span class="number">4</span>;<span class="comment">//仅局部变量可用var</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> apple=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> banana =<span class="number">4</span>;<span class="comment">//仅局部变量可用var</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> apple =<span class="number">2</span>;</span><br><span class="line"><span class="keyword">auto</span> apple = <span class="number">2</span>;  <span class="comment">//全局局部都可以用auto</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> apple =<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>对于某些则是可以指定也可以不指定,比如python和TypeScript还有godot的GDscript</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple: <span class="built_in">int</span> = <span class="number">2</span> <span class="comment">#python可以直接写变量名,没有var或let这种关键字</span></span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">apple</span>: <span class="built_in">number</span> = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#GDscript</span><br><span class="line">var apple: int = 2  </span><br></pre></td></tr></table></figure>

<p>对于lua这种不需要写数据类型的,称之为“<font color='Turquoise'>变量本身无类型，值自带类型</font>”,其中和JavaScript最像,JS也是用let(曾经是var)来充当所有类型的,同样的不可以也没有途径来指定变量类型,全靠编辑器或游戏引擎自己  “猜”  这是什么类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apple = <span class="number">2</span>;<span class="comment">//旧版是var apple =2;</span></span><br></pre></td></tr></table></figure>





<p>对了,由于数据类型之间存在隐式转换,这个在大多数语言之中都存在,就是我们常说的强制转换和隐式转换</p>
<p>这里我们就先举例字符串和数字类型的相加吧</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--可以看出Lua会自动将字符串转换为数字,这称为隐式转换</span></span><br><span class="line"><span class="comment">--然后进行加法运算</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;2&quot;</span> + <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<p>​	<style>.rjotgvwsbuhh{zoom: 33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220185808133.png" class="rjotgvwsbuhh" alt="image-20251220185808133"></p>
<p>同理,也可以字符串和字符串相加,不过在java和C#中字符串相加结果还是字符串</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;123&quot;</span> + <span class="number">5</span>);   <span class="comment">// 输出 &quot;1235&quot;</span></span><br><span class="line">System.out.println(<span class="string">&quot;123&quot;</span> + <span class="number">5</span> + <span class="number">5</span>); <span class="comment">// 输出 &quot;12355&quot;</span></span><br><span class="line">System.out.println(<span class="number">5</span> + <span class="number">5</span> + <span class="string">&quot;123&quot;</span>); <span class="comment">// 输出 &quot;10123&quot;（先算 5+5）</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">&quot;123&quot;</span> + <span class="number">5</span>);   <span class="comment">// 输出 &quot;123&quot;</span></span><br><span class="line">Console.WriteLine(<span class="string">&quot;123&quot;</span> + <span class="number">5</span> + <span class="number">5</span>); <span class="comment">// 输出 &quot;12355&quot;</span></span><br><span class="line">Console.WriteLine(<span class="number">5</span> + <span class="number">5</span> + <span class="string">&quot;123&quot;</span>); <span class="comment">// 输出 &quot;10123&quot;</span></span><br></pre></td></tr></table></figure>

<p>但是我们的Lua不是这样的,它只会先将字符串转换为数字,然后在进行数学运算,所以就有了如下结果</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;2&quot;</span> + <span class="string">&quot;6&quot;</span>) <span class="comment">--输出 &quot;8&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-2e2&quot;</span> * <span class="string">&quot;6&quot;</span>) <span class="comment">--输出 &quot;-1200.0&quot;</span></span><br></pre></td></tr></table></figure>

<p>但是我们都知道字符串不只有数字可以构成,还可以由各个国家的文字构成比如中文  英文  日文</p>
<p>所以lua自然无法将文字转换为数字(不过你可能听说过ASCII码表和Unicode字符表,每个文字或符号都有对应的数字编号),但字符串相加减在Lua中不允许的</p>
<p>​	<style>.pqkgyqrqexlw{zoom: 25%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220191224658.png" class="pqkgyqrqexlw" alt="image-20251220191224658"></p>
<p>可以看到,报错了</p>
<p>同样的,假如你学过C  java  JavaScript什么的,都知道字符串长度这个概念,即字符串字节长度，学过的小伙伴可以再看一下</p>
<p>其中字节我们需要了解一下</p>
<p>​	<style>.pguxihyynpob{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220203217551.png" class="pguxihyynpob" alt="image-20251220203217551"></p>
<p>还有码点和单元的概念</p>
<p>​	<style>.ssvvjnqifceq{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220203803350.png" class="ssvvjnqifceq" alt="image-20251220203803350"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 情形 1：假设执行字符集是 GBK，源文件也用 GBK 保存</span></span><br><span class="line">    <span class="comment">// 每个汉字占 2 字节，11 个汉字 -&gt; 22 字节，加结尾 &#x27;\0&#x27; -&gt; 23</span></span><br><span class="line">    <span class="type">char</span> str_gbk[] = <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[GBK] 字符串长度为 = %zu\n&quot;</span>, <span class="keyword">sizeof</span>(str_gbk)); <span class="comment">// 23</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[GBK] 字符串长度为 = %zu\n&quot;</span>, <span class="built_in">strlen</span>(str_gbk)); <span class="comment">// 22</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 情形 2：强制 UTF-8 字面量（u8 前缀），与源文件是否 UTF-8 无关</span></span><br><span class="line">    <span class="comment">// 每个汉字 3 字节，11 个汉字 -&gt; 33 字节，加结尾 &#x27;\0&#x27; -&gt; 34</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *s_utf8 = <span class="string">u8&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[UTF-8] 字符串长度为 = %zu\n&quot;</span>, <span class="built_in">strlen</span>(s_utf8));                  <span class="comment">// 33</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[UTF-8] 字符串长度为 = %zu\n&quot;</span>, <span class="keyword">sizeof</span> <span class="string">u8&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>); <span class="comment">// 34 (含 &#x27;\0&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 情形 1：假设执行字符集是 GBK，源文件也用 GBK 保存</span></span><br><span class="line">    std::string s_gbk = <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt;<span class="string">&quot;[GBK] 字符串长度为&quot;</span>&lt;&lt; s_gbk.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; \n&quot;</span>;  <span class="comment">//22字节</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 情形 2：强制 UTF-8 字面量（u8 前缀），与源文件是否 UTF-8 无关</span></span><br><span class="line">    std::string s_utf8 = <span class="string">u8&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt;<span class="string">&quot;[UTF-8] 字符串长度为&quot;</span>&lt;&lt; s_utf<span class="number">8.</span><span class="built_in">size</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>; <span class="comment">// 33字节</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java伪代码</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">units</span> <span class="operator">=</span> s.length();                          </span><br><span class="line">System.out.println(<span class="string">&quot;字符串的长度为: &quot;</span> + units); <span class="comment">// 11（UTF-16 代码单元）,每个汉字一个单元,Java源码默认 UTF-8</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//C#伪代码</span></span><br><span class="line"><span class="built_in">string</span> s = <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> units = s.Length; </span><br><span class="line">Console.WriteLine(<span class="string">$&quot;字符串长度为= <span class="subst">&#123;units&#125;</span>&quot;</span>); <span class="comment">// 11（UTF-16 代码单元）,每个汉字一个单元,C#源码默认 UTF-8</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> len = s.<span class="property">length</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`字符串长度为 = <span class="subst">$&#123;len&#125;</span>`</span>);   <span class="comment">// 11（UTF-16 代码单元）,每个汉字一个单元,JS源码默认 UTF-8</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span></span><br><span class="line">ln = <span class="built_in">len</span>(s)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;字符串长度为 = <span class="subst">&#123;ln&#125;</span>&quot;</span>)  <span class="comment"># 11 (Unicode 码点),每个汉字是一个码点,python源码默认 UTF-8，len函数返回码点数</span></span><br></pre></td></tr></table></figure>

<p>ok ,现在再来看看我们的lua</p>
<p>lua使用 <font color='Red'>#</font> 来计算字符串的长度，放在字符串前面,或者使用   <font color='Red'>string.len()</font>  来获取字符串的长度</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> le = <span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--注意,Lua 本身把字符串当作原始字节序列，不做任何编码/解码,所以字节取决于你当前文件的保存格式是UTF-8还是GBK</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;字符串长度&quot;</span> .. #le) <span class="comment">--33字节 (UTF-8字节)  22(GBK字节)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;字符串长度&quot;</span> ..<span class="built_in">string</span>.<span class="built_in">len</span>(le))<span class="comment">--33字节 (UTF-8字节)  22(GBK字节)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;码点数&quot;</span>, utf8.<span class="built_in">len</span>(le)) <span class="comment">-- 11(Unicode 码点)</span></span><br></pre></td></tr></table></figure>

 <style>.xtgkbxjlytuy{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220211553480.png" class="xtgkbxjlytuy" alt="image-20251220211553480">

<p>​	<style>.pqfvoetryotj{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220214021468.png" class="pqfvoetryotj" alt="image-20251220214021468"></p>
<p>或者这样写,都是可以的</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="built_in">len</span> = #<span class="string">&quot;芙宁娜喂你吃了一口蛋糕&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;字符串长度&quot;</span> .. <span class="built_in">len</span>)<span class="comment">--33字节</span></span><br></pre></td></tr></table></figure>

<p>​	<style>.mjdzbnbihrgw{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251220211507010.png" class="mjdzbnbihrgw" alt="image-20251220211507010"></p>
<h3 id="table-表"><a href="#table-表" class="headerlink" title="table(表)"></a>table(表)</h3><p>这个和其他语言的数组非常类似,同样的也和JSON里面的字典非常像</p>
<p>所以同样的也存在<font color='Red'>索引</font>和<font color='Red'>键值对</font>这个概念,数组的索引只能是数字或者是字符串,但是字典的键值对可以是数字、字符串、布尔值、函数，甚至是另一个 table</p>
<p>但是别的语言的索引是从0开始的,数组的第一个元素的位置就是0索引,但是在我们的lua中,不是这样的,而是第一个元素的位置是1索引</p>
<p>这里我们先用for循环遍历一下数组索引，可以看到的确是第一个索引位置是   <font color='Red'>1</font>     </p>
<p>​	<style>.mzbbdkdjxbhw{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221190243229.png" class="mzbbdkdjxbhw" alt="image-20251221190243229"></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> tbl = &#123; <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;pear&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;grape&quot;</span> &#125;</span><br><span class="line"><span class="keyword">for</span> key, val <span class="keyword">in</span> <span class="built_in">pairs</span>(tbl) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Key&quot;</span>, key)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>同样的,数组可以为空,然后为空数组的索引位置赋值,也可以在创建数组时就为数组赋值,这里可以直接对索引位置赋值或者使用插入函数</p>
<h4 id="一-使用数组索引或者键值对赋值"><a href="#一-使用数组索引或者键值对赋值" class="headerlink" title="一:使用数组索引或者键值对赋值"></a>一:使用<font color='Red'>数组索引</font>或者<font color='Red'>键值对</font>赋值</h4><p>比如我可以直接在数组中添加元素,或者在指定索引位置添加元素,用索引获取数组元素用   <font color='Red'>数组名[  数字(大于等于1)  ]</font></p>
<p>但是你可以看到表里的“邦德福杰”和“达米安戴斯蒙”的写法是不是很熟悉(如果你学过字典的写法的话),没错,table还可以用于写字典</p>
<p>字典可以使用点符号“ <font color='Red'>.</font> ”来访问字典中的属性比如   <font color='Red'>spyfamily.x</font>  就是指“邦德福杰”   不过也可以不用这个点,第二种写法如你所见,但是不是很推荐就是了(因为麻烦,还得多打几个符号)</p>
<p>这个字典非常好用的,以后我们给游戏人物写属性时可以使用字典,不过你也看到了,数组和字典可以混用(不过不推荐这么干 ヾ(▼へ▼) NO!)</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> spyfamily = &#123; <span class="string">&quot;阿尼亚福杰&quot;</span>, <span class="string">&quot;劳埃德福杰&quot;</span>, <span class="string">&quot;约尔福杰&quot;</span>, x = <span class="string">&quot;邦德福杰&quot;</span>, y = <span class="string">&quot;达米安戴斯蒙&quot;</span> &#125; <span class="comment">-- 1-based 索引</span></span><br><span class="line">spyfamily[<span class="number">4</span>] = <span class="string">&quot;贝姬布莱克贝&quot;</span></span><br><span class="line">spyfamily[<span class="string">&quot;z&quot;</span>] = <span class="string">&quot;尤里布莱尔&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(spyfamily[<span class="number">1</span>], spyfamily[<span class="number">2</span>], spyfamily[<span class="number">3</span>], spyfamily[<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(spyfamily.x, spyfamily[<span class="string">&quot;y&quot;</span>], spyfamily[<span class="string">&quot;z&quot;</span>])</span><br></pre></td></tr></table></figure>

<p>​	<style>.uqmqeolezorf{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221192607903.png" class="uqmqeolezorf" alt="image-20251221192607903"></p>
<p>至于数组的遍历先不了解,因为涉及for循环,到时候讲到for循环时候再说更好理解,我们暂时还是用print一个一个的打印</p>
<p>前面我们提到过  nil具有删除效果 我们来看一下吧</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> spyfamily = &#123; Anya = <span class="string">&quot;阿尼亚福杰&quot;</span>, Loid = <span class="string">&quot;劳埃德福杰&quot;</span>, Yor = <span class="string">&quot;约尔福杰&quot;</span>, Bond = <span class="string">&quot;邦德福杰&quot;</span>, Damian = <span class="string">&quot;达米安戴斯蒙&quot;</span> &#125; </span><br><span class="line">spyfamily.Becky = <span class="string">&quot;贝姬布莱克贝&quot;</span></span><br><span class="line">spyfamily.Fiona = <span class="string">&quot;菲奥娜弗洛斯特&quot;</span></span><br><span class="line">spyfamily.Yuri = <span class="string">&quot;尤里布莱尔&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;删除前:&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--遍历表</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(spyfamily) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;删除后:&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--比如我们要删除劳埃德和邦德</span></span><br><span class="line">spyfamily.Loid = <span class="literal">nil</span></span><br><span class="line">spyfamily.Bond = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--遍历表</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(spyfamily) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>​	<style>.xxksmhedlosm{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221200825641.png" class="xxksmhedlosm" alt="image-20251221200825641"></p>
<p>可以看到  劳埃德和邦德没有了</p>
<p>有些小伙伴可能会突发奇想——诶,假如我把table写成字典格式那还能不能使用索引访问呢</p>
<p>如图所示,不可以,只能用字典的两种访问形式(即点语法和键值对)</p>
<p>而且在 Lua 中，<code>table</code> 的 <strong><font color='Red'>数字索引</font></strong> 和 <strong><font color='Red'>键值对</font></strong> 是分开的。当表中只有字典的键值对时，<strong>数字索引部分是空的</strong>。</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> spyfamily = &#123; Anya = <span class="string">&quot;阿尼亚福杰&quot;</span>, Loid = <span class="string">&quot;劳埃德福杰&quot;</span>, Yor = <span class="string">&quot;约尔福杰&quot;</span>, Bond = <span class="string">&quot;邦德福杰&quot;</span>, Damian = <span class="string">&quot;达米安戴斯蒙&quot;</span> &#125; </span><br><span class="line">spyfamily.Becky = <span class="string">&quot;贝姬布莱克贝&quot;</span></span><br><span class="line">spyfamily.Fiona = <span class="string">&quot;菲奥娜弗洛斯特&quot;</span></span><br><span class="line">spyfamily.Yuri = <span class="string">&quot;尤里布莱尔&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--正常打印</span></span><br><span class="line"><span class="built_in">print</span>(spyfamily.Anya, spyfamily.Loid, spyfamily.Yor, spyfamily.Bond)</span><br><span class="line"><span class="comment">--结果打印 nil</span></span><br><span class="line"><span class="built_in">print</span>(spyfamily[<span class="number">1</span>], spyfamily[<span class="number">2</span>], spyfamily[<span class="number">3</span>], spyfamily[<span class="number">4</span>])</span><br><span class="line"><span class="comment">--正常打印</span></span><br><span class="line"><span class="built_in">print</span>(spyfamily[<span class="string">&quot;Anya&quot;</span>], spyfamily[<span class="string">&quot;Loid&quot;</span>], spyfamily[<span class="string">&quot;Yor&quot;</span>], spyfamily[<span class="string">&quot;Bond&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​	<style>.aulnvhleqout{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221201716415.png" class="aulnvhleqout" alt="image-20251221201716415"></p>
<p>想必你也看到了,table 不会固定长度大小，有新数据添加时 table 长度会自动增长，没初始的 table 都是 nil</p>
<h4 id="二-使用lua内置函数赋值"><a href="#二-使用lua内置函数赋值" class="headerlink" title="二:使用lua内置函数赋值"></a>二:使用<font color='Red'>lua内置函数</font>赋值</h4><p>函数这个后面会说，这里我们先介绍一下table相关的一些函数</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建一个空的 table</span></span><br><span class="line"><span class="keyword">local</span> tbl1 = &#123;&#125;</span><br><span class="line"><span class="comment">-- 向表中添加元素</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(tbl1, <span class="string">&quot;胡桃&quot;</span>)</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(tbl1, <span class="string">&quot;茜特菈莉&quot;</span>)</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(tbl1, <span class="string">&quot;纳西妲&quot;</span>)</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(tbl1, <span class="string">&quot;芙宁娜&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;tbl1 的内容：&quot;</span> .. <span class="built_in">table</span>.<span class="built_in">concat</span>(tbl1, <span class="string">&quot;, &quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 直接初始表</span></span><br><span class="line"><span class="keyword">local</span> tbl2 = &#123; <span class="string">&quot;胡桃&quot;</span>, <span class="string">&quot;茜特菈莉&quot;</span>, <span class="string">&quot;纳西妲&quot;</span>, <span class="string">&quot;芙宁娜&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;tbl2 的内容：&quot;</span> .. <span class="built_in">table</span>.<span class="built_in">concat</span>(tbl2, <span class="string">&quot;, &quot;</span>))</span><br></pre></td></tr></table></figure>

<p>​	<style>.juiiyeppualt{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221190833186.png" class="juiiyeppualt" alt="image-20251221190833186"></p>
<table>
<thead>
<tr>
<th align="center">函数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><font color='Turquoise'>table.insert</font></td>
<td align="center">向表中插入元素</td>
</tr>
<tr>
<td align="center"><font color='Turquoise'>table.remove</font></td>
<td align="center">从表中删除元素</td>
</tr>
<tr>
<td align="center"><font color='Turquoise'>table.concat</font></td>
<td align="center">将表中的元素连接成字符串</td>
</tr>
<tr>
<td align="center"><font color='Turquoise'>table.sort</font></td>
<td align="center">对表中的元素进行排序</td>
</tr>
<tr>
<td align="center"><font color='Turquoise'>table.pack</font></td>
<td align="center">将多个值打包成一个表</td>
</tr>
<tr>
<td align="center"><font color='Turquoise'>table.unpack</font></td>
<td align="center">将表中的值解包成多个值</td>
</tr>
</tbody></table>
<p>第一个:   table.insert</p>
<ul>
<li><strong>语法</strong>：<code>table.insert(表名, 插入位置, 插入值)</code></li>
<li>其中插入位置可写可不写,不写的话默认插入到表的末尾</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> player = &#123; <span class="string">&quot;豌豆射手&quot;</span>, <span class="string">&quot;寒冰射手&quot;</span>, <span class="string">&quot;土豆地雷&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(player, <span class="string">&quot;火焰射手&quot;</span>)</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(player, <span class="number">2</span>, <span class="string">&quot;向日葵&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(player, <span class="string">&quot;, &quot;</span>))</span><br></pre></td></tr></table></figure>

<p>​	<style>.rnfouetyatld{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221215101801.png" class="rnfouetyatld" alt="image-20251221215101801"></p>
<p>第二个:   table.remove</p>
<ul>
<li><strong>语法</strong>：<code>table.insert(表名, 删除位置)</code></li>
<li>其中删除位置可写可不写,不写的话默认删除表的末尾元素</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> player = &#123; <span class="string">&quot;豌豆射手&quot;</span>, <span class="string">&quot;寒冰射手&quot;</span>, <span class="string">&quot;土豆地雷&quot;</span>, <span class="string">&quot;火焰射手&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">remove</span>(player)</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">remove</span>(player, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(player, <span class="string">&quot;, &quot;</span>))</span><br></pre></td></tr></table></figure>

<p>​	<style>.ozxbouuvtlej{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221215823550.png" class="ozxbouuvtlej" alt="image-20251221215823550"></p>
<p>第三个:   table.concat</p>
<ul>
<li><strong>语法</strong>：<code>table.concat(表名, 连接符, 开始索引, 结束索引)</code></li>
<li>其中连接符默认为空字符串,连接符一般是逗号或者空格</li>
<li>开始索引和结束索引表示遍历的范围,不写的话默认是遍历整个表</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> player = &#123; <span class="string">&quot;豌豆射手&quot;</span>, <span class="string">&quot;寒冰射手&quot;</span>, <span class="string">&quot;土豆地雷&quot;</span>, <span class="string">&quot;火焰射手&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(player))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(player, <span class="string">&quot;, &quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(player, <span class="string">&quot;,&quot;</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<p>​	<style>.tfzwxpwopkkq{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221221157964.png" class="tfzwxpwopkkq" alt="image-20251221221157964"></p>
<p>第四个:   table.sort</p>
<ul>
<li><strong>语法</strong>：<code>table.sort(表名, 排序函数)</code></li>
<li>比较函数，默认按升序排序</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> number = &#123; <span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 默认排序（升序）</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">sort</span>(number)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(number, <span class="string">&quot;, &quot;</span>)) </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 自定义排序（降序）</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">sort</span>(number, <span class="function"><span class="keyword">function</span><span class="params">(a, b)</span></span> <span class="keyword">return</span> a &gt; b <span class="keyword">end</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(number, <span class="string">&quot;, &quot;</span>)) </span><br></pre></td></tr></table></figure>

<p>​	<style>.wldfbrboginf{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251222222825992.png" class="wldfbrboginf" alt="image-20251222222825992"></p>
<p>第五个和第六个:   table.pack    table.unpack</p>
<ul>
<li><strong>语法</strong>：<code>table.pack(....)</code></li>
<li><strong>语法</strong>：<code>table.unpack(压缩的包名,开始索引,结束索引)</code></li>
<li>**注意啦:**这两个<font color='Red'>只处理数组</font>,不处理字典的键值对</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--也就是用pack把多个值压缩成一个表</span></span><br><span class="line"><span class="keyword">local</span> packed = <span class="built_in">table</span>.pack(<span class="string">&quot;点赞&quot;</span>, <span class="string">&quot;关注&quot;</span>, <span class="string">&quot;收藏&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(packed, <span class="string">&quot;, &quot;</span>)) <span class="comment">-- 输出: 点赞, 关注, 收藏</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--然后我们可以用unpack把表中的值再解压出来</span></span><br><span class="line"><span class="comment">--默认全部解压</span></span><br><span class="line"><span class="keyword">local</span> like, follow, favorite = <span class="built_in">table</span>.<span class="built_in">unpack</span>(packed)</span><br><span class="line"><span class="built_in">print</span>(like, follow, favorite) <span class="comment">-- 输出: 点赞 关注 收藏</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--也可以指定解压的范围</span></span><br><span class="line"><span class="keyword">local</span> like2, follow2 = <span class="built_in">table</span>.<span class="built_in">unpack</span>(packed, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(like2, follow2) <span class="comment">-- 输出: 点赞 关注</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--由于压缩后本质上是表，所以我们还可以访问表的属性,比如索引对应的值</span></span><br><span class="line"><span class="built_in">print</span>(packed[<span class="number">1</span>]) <span class="comment">-- 输出: 点赞</span></span><br></pre></td></tr></table></figure>

<p>​	<style>.bgbedubqebmk{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221224942807.png" class="bgbedubqebmk" alt="image-20251221224942807"></p>
<p>对了,还有一些可以补充的</p>
<p>比如”#”操作符不仅可以用于获取字符串的长度,还可以用于获取表的长度</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--也就是用pack把多个值压缩成一个表</span></span><br><span class="line"><span class="keyword">local</span> packed = <span class="built_in">table</span>.pack(<span class="string">&quot;点赞&quot;</span>, <span class="string">&quot;关注&quot;</span>, <span class="string">&quot;收藏&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">concat</span>(packed, <span class="string">&quot;, &quot;</span>)) <span class="comment">-- 输出: 点赞, 关注, 收藏</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--注意,这个&quot;.n&quot;是table.pack特有的属性,表示表中元素的数量</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;总元素数量:&quot;</span>, packed.n) <span class="comment">-- 输出: 总元素数量: 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--刚才说了,这个压缩包本质上还是一个表,所以你也可以用&quot;#&quot;操作符来获取元素数量</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;总元素数量:&quot;</span>, #packed) <span class="comment">-- 输出: 总元素数量: 3</span></span><br></pre></td></tr></table></figure>

<p>​	<style>.fsodkdhnneso{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251221225822879.png" class="fsodkdhnneso" alt="image-20251221225822879"></p>
<h3 id="function（函数）"><a href="#function（函数）" class="headerlink" title="function（函数）"></a>function（函数）</h3><p>学过JavaScript的小伙伴绝对老熟悉了,因为JavaScript的函数返回值类型也是用function来代替,而在其他语言中函数前面基本上就是函数的返回值类型比如 int 或void等等,对于没学过JS的小伙伴也可以看看这两个语言有多相似</p>
<p>但所有主流语言的函数基本上逻辑差不多,lua自然也有有参函数,无参函数或匿名函数等等区别</p>
<h4 id="一-无参函数"><a href="#一-无参函数" class="headerlink" title="一,无参函数"></a>一,无参函数</h4><ul>
<li><strong>语法</strong>：<code>function 函数名()...end</code>或<code>函数名 = function()...end</code></li>
<li>注意:在其他语言中是用{ }花括号来规定函数的作用域的,但是lua这种缩进式语言需要 <font color='Red'>end</font> 这种关键字来指定函数结束位置</li>
<li>local关键字可写可不写,要写都写,要不写都不写这样比较好看一些</li>
<li>匿名函数在lua中也十分常用的,匿名函数可以不写函数名直接使用整个函数即可,一般可以在return返回值用匿名函数来节省代码长度</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">HK</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;低调的黑客&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--等价于(匿名函数)</span></span><br><span class="line"><span class="keyword">local</span> DK = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;低客的黑调&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--对于无参函数直接写函数名即可调用</span></span><br><span class="line">HK()</span><br><span class="line">DK()</span><br></pre></td></tr></table></figure>

<p>​	<style>.zyylhwyviitg{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251222220743297.png" class="zyylhwyviitg" alt="image-20251222220743297"></p>
<p>你可以对比一下JS语言,是不是豁然开朗了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">HK</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;低调的黑客&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等价于(匿名函数)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">DK</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;低客的黑调&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">HK</span>();</span><br><span class="line"><span class="title function_">DK</span>();</span><br></pre></td></tr></table></figure>

<h4 id="二-有参无返回值函数"><a href="#二-有参无返回值函数" class="headerlink" title="二,有参无返回值函数"></a>二,有参无返回值函数</h4><ul>
<li><strong>语法</strong>：<code>function 函数名(参数A,参数B...)...end</code>或<code>函数名 = function(参数A,参数B...)...end</code></li>
<li><strong>函数调用</strong>: <code>函数名(参数A,参数B...)</code></li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">HK</span><span class="params">(a, b)</span></span></span><br><span class="line">    <span class="built_in">print</span>(a .. <span class="string">&quot;不是低调的&quot;</span> .. b)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--等价于(匿名函数)</span></span><br><span class="line"><span class="keyword">local</span> DK = <span class="function"><span class="keyword">function</span><span class="params">(a, b)</span></span></span><br><span class="line">    <span class="built_in">print</span>(a .. <span class="string">&quot;是低客的&quot;</span> .. b)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--对于有参函数需要写参数值,但需要和定义的位置对应</span></span><br><span class="line">HK(<span class="string">&quot;嘉豪&quot;</span>, <span class="string">&quot;黑客&quot;</span>)</span><br><span class="line">DK(<span class="string">&quot;艾鲁迪克&quot;</span>, <span class="string">&quot;黑调&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>​	<style>.jndhwlhttkar{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251222222254607.png" class="jndhwlhttkar" alt="image-20251222222254607"></p>
<h4 id="三-有参有返回值函数"><a href="#三-有参有返回值函数" class="headerlink" title="三,有参有返回值函数"></a>三,有参有返回值函数</h4><p>这个分为单个返回值和多个返回值</p>
<p>第一:单个返回值</p>
<ul>
<li><strong>语法</strong>：<code>function 函数名(参数A,参数B...)...return 返回值 end</code>或<code>函数名 = function(参数A,参数B...)...return 返回值 end</code></li>
<li><strong>函数调用</strong>: <code>变量名 = 函数名(参数A,参数B...)</code>   注意,调用形式相对自由,我只说这一种最简格式</li>
<li>关键字注意: return 关键字是函数的返回值的类型 不过lua函数返回值相当宽松,不会像其他语言那样函数的类型和返回值类型之间锁死,返回值类型非常广泛甚至可以是另一个函数或匿名函数</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">HK</span><span class="params">(a, b)</span></span></span><br><span class="line">    <span class="keyword">local</span> friendshipsPlainJane = a .. <span class="string">&quot;不是低调的&quot;</span> .. b</span><br><span class="line">    <span class="keyword">return</span> friendshipsPlainJane</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--等价于(匿名函数)</span></span><br><span class="line"><span class="keyword">local</span> DK = <span class="function"><span class="keyword">function</span><span class="params">(a, b)</span></span></span><br><span class="line">    <span class="keyword">local</span> friendshipsPlainJane = a .. <span class="string">&quot;是低客的&quot;</span> .. b</span><br><span class="line">    <span class="keyword">return</span> friendshipsPlainJane</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--对于有参函数需要写参数值,但需要和定义的位置对应</span></span><br><span class="line"><span class="keyword">local</span> hacker = HK(<span class="string">&quot;嘉豪&quot;</span>, <span class="string">&quot;黑客&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> dicker = DK(<span class="string">&quot;艾鲁迪克&quot;</span>, <span class="string">&quot;黑调&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(hacker)</span><br><span class="line"><span class="built_in">print</span>(dicker)</span><br></pre></td></tr></table></figure>

<p>​	<style>.nolcdmuomyvj{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251223113241497.png" class="nolcdmuomyvj" alt="image-20251223113241497"></p>
<p>第二:多个返回值</p>
<ul>
<li><strong>语法</strong>：<code>function 函数名(参数A,参数B...)...return 返回值1,返回值2... end</code>或<code>函数名 = function(参数A,参数B...)...return 返回值1,返回值2... end</code></li>
<li><strong>函数调用</strong>: <code>变量名A,变量名B... = 函数名(参数A,参数B...)</code>   注意,调用形式相对自由,我只说这一种最简格式</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">HD</span><span class="params">(a, b)</span></span></span><br><span class="line">    <span class="keyword">local</span> friendshipsPlainJane_01 = a .. <span class="string">&quot;不是低调的&quot;</span> .. b</span><br><span class="line">    <span class="keyword">local</span> friendshipsPlainJane_02 = b .. <span class="string">&quot;是低调的&quot;</span> .. a</span><br><span class="line">    <span class="keyword">return</span> friendshipsPlainJane_01, friendshipsPlainJane_02</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--对于有参函数需要写参数值,但需要和定义的位置对应</span></span><br><span class="line"><span class="keyword">local</span> hacker, dicker = HD(<span class="string">&quot;黑客&quot;</span>, <span class="string">&quot;艾鲁迪克&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(hacker)</span><br><span class="line"><span class="built_in">print</span>(dicker)</span><br></pre></td></tr></table></figure>

<p>​	<style>.mibyhddhhlxo{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251223115913725.png" class="mibyhddhhlxo" alt="image-20251223115913725"></p>
<p>哦,对了,提起多个变量接收返回值的就得提一下lua变量的某些性质了——比如变量和值的个数不一致的情况</p>
<p>第一种:</p>
<p>变量个数 &gt; 值的个数             按变量个数补足nil</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = <span class="function"><span class="keyword">function</span><span class="params">(name)</span></span></span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> b = <span class="function"><span class="keyword">function</span><span class="params">(name)</span></span></span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> friendshipsPlainJane_01 = <span class="function"><span class="keyword">function</span><span class="params">(x, y)</span></span></span><br><span class="line">    <span class="keyword">return</span> a(x) .. <span class="string">&quot;不是低调的&quot;</span> .. b(y)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> friendshipsPlainJane_02 = <span class="function"><span class="keyword">function</span><span class="params">(x, y)</span></span></span><br><span class="line">    <span class="keyword">return</span> b(x) .. <span class="string">&quot;是低调的&quot;</span> .. a(y)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> hacker, dicker, fxxker = friendshipsPlainJane_01(<span class="string">&quot;嘉豪&quot;</span>, <span class="string">&quot;黑客&quot;</span>), friendshipsPlainJane_02(<span class="string">&quot;艾鲁迪克&quot;</span>, <span class="string">&quot;迪克&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(hacker)</span><br><span class="line"><span class="built_in">print</span>(dicker)</span><br><span class="line"><span class="built_in">print</span>(fxxker)</span><br></pre></td></tr></table></figure>

 <style>.ocsskmxeuewz{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251224103930019.png" class="ocsskmxeuewz" alt="image-20251224103930019">

<p>第二种:</p>
<p>变量个数 &lt; 值的个数             多余的值会被忽略</p>
<p>​	<style>.fenspkxepjet{zoom:33%;}</style><img src="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/image-20251224102019857.png" class="fenspkxepjet" alt="image-20251224102019857"></p>
<h3 id="thread-线程"><a href="#thread-线程" class="headerlink" title="thread(线程)"></a>thread(线程)</h3><p>线程可以同时多个运行，而协程任意时刻只能运行一个，并且处于运行状态的协程只有被挂起（suspend）时才会暂停。</p>
<p>知道即可,目前没必要了解这个,等讲到协程时再说更好理解</p>
<h3 id="userdata（自定义类型）"><a href="#userdata（自定义类型）" class="headerlink" title="userdata（自定义类型）"></a>userdata（自定义类型）</h3><p>一些小伙伴呢可能听说过甚至使用过  Raylib库 做过游戏,而userdata作用也是一样的,这么讲你应该可以瞬间理解吧</p>
<p><strong>userdata 就是 Lua 与 C&#x2F;C++ 之间的“透明快递箱”</strong>——脚本层面只负责传递，真正的内容、行为、生命周期全由 C或者C++ 定义，通过元表让 Lua 看起来像普通对象</p>
<p>说人话就是C或C++写外部库,lua用userdata类型调用这个库</p>
<p>目前的话用不上,了解即可</p>
</div><!-- 初始化AI摘要--><script>document.addEventListener('DOMContentLoaded', function() {
  if (typeof ChucklePostAI !== 'undefined') {
    // 获取按钮文本，如果未定义则使用默认值
    const buttons = [
      "介绍自己",
      "来点灵感",
      "生成AI简介"
    ];

    new ChucklePostAI({
      el: '#post-ai-container',
      title_el: '.post-title',
      summary_directly: false,
      interface: {
        name: "阿罗娜",
        introduce: "老师好, 我是阿罗娜, 一个基于OpenAI GPT-4o的强大语言模型, 今天有什么可以帮到您? 😊",
        version: "OpenAI GPT-4o",
        button: buttons
      }
    });
  }
});
</script><!-- 传递TOC配置给前端--><script>// 创建全局TOC配置对象
window.tocConfig = {
  empty_toc_behavior: "placeholder"
};
</script><div class="post-navigation"><div class="post-nav prev"><a href="/2025/12/15/AutoHotkey%E7%9B%B8%E5%85%B3/%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"><span class="nav-label">← Previous</span><span class="nav-title">FontColorChange脚本软件的使用方法的详细说明</span></a></div><div class="post-nav next"><a href="/2025/12/13/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Csharp%E8%AF%AD%E8%A8%80/%E4%BD%BF%E7%94%A8VSCode%E5%86%99Csharp%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/"><span class="nav-label">Next →</span><span class="nav-title">如何在VScode中配置C#环境</span></a></div></div><div class="post-share"><h3 class="share-title">Share this article</h3><div class="share-buttons"><a class="share-btn twitter" href="https://twitter.com/intent/tweet?text=love2d%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E5%A4%A9--%E5%AD%A6%E4%B9%A0lua%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97&amp;url=%2F2025%2F12%2F14%2F%25E6%25B8%25B8%25E6%2588%258F%25E5%25BC%2595%25E6%2593%258E%25E7%259B%25B8%25E5%2585%25B3%2FLove2d%25E5%25BC%2595%25E6%2593%258E%2F%25E7%25AC%25AC%25E4%25BA%258C%25E5%25A4%25A9%2F" target="_blank" rel="noopener"><span>Twitter</span></a><a class="share-btn facebook" href="https://www.facebook.com/sharer/sharer.php?u=%2F2025%2F12%2F14%2F%25E6%25B8%25B8%25E6%2588%258F%25E5%25BC%2595%25E6%2593%258E%25E7%259B%25B8%25E5%2585%25B3%2FLove2d%25E5%25BC%2595%25E6%2593%258E%2F%25E7%25AC%25AC%25E4%25BA%258C%25E5%25A4%25A9%2F" target="_blank" rel="noopener"><span>Facebook</span></a><a class="share-btn linkedin" href="https://www.linkedin.com/sharing/share-offsite/?url=%2F2025%2F12%2F14%2F%25E6%25B8%25B8%25E6%2588%258F%25E5%25BC%2595%25E6%2593%258E%25E7%259B%25B8%25E5%2585%25B3%2FLove2d%25E5%25BC%2595%25E6%2593%258E%2F%25E7%25AC%25AC%25E4%25BA%258C%25E5%25A4%25A9%2F" target="_blank" rel="noopener"><span>LinkedIn</span></a><a class="share-btn wechat" href="#" data-wechat="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/"><span>微信</span></a><a class="share-btn qq" href="https://connect.qq.com/widget/shareqq/index.html?url=%2F2025%2F12%2F14%2F%25E6%25B8%25B8%25E6%2588%258F%25E5%25BC%2595%25E6%2593%258E%25E7%259B%25B8%25E5%2585%25B3%2FLove2d%25E5%25BC%2595%25E6%2593%258E%2F%25E7%25AC%25AC%25E4%25BA%258C%25E5%25A4%25A9%2F&amp;title=love2d%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E5%A4%A9--%E5%AD%A6%E4%B9%A0lua%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97" target="_blank" rel="noopener"><span>QQ</span></a><a class="share-btn weibo" href="https://service.weibo.com/share/share.php?url=%2F2025%2F12%2F14%2F%25E6%25B8%25B8%25E6%2588%258F%25E5%25BC%2595%25E6%2593%258E%25E7%259B%25B8%25E5%2585%25B3%2FLove2d%25E5%25BC%2595%25E6%2593%258E%2F%25E7%25AC%25AC%25E4%25BA%258C%25E5%25A4%25A9%2F&amp;title=love2d%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E5%A4%A9--%E5%AD%A6%E4%B9%A0lua%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97" target="_blank" rel="noopener"><span>微博</span></a><a class="share-btn copy" href="#" data-copy="/2025/12/14/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3/Love2d%E5%BC%95%E6%93%8E/%E7%AC%AC%E4%BA%8C%E5%A4%A9/"><span>Copy Link</span></a></div></div></article></div><section class="comments-section"><div class="comments-container"><h2 class="comments-title">Comments</h2><div class="comments-content"><div id="twikoo-comments"></div><div id="twikoo"></div><script src="https://unpkg.com/twikoo@1.6.39/dist/twikoo.all.min.js"></script><script>twikoo.init({
  envId: 'https://twikoo-five-ruby.vercel.app',
  el: '#twikoo',
  region: '',
  path: 'window.location.pathname',
  visitor: true,
  onCommentLoaded: function () {
    console.log('Twikoo评论加载成功');
  }
});</script></div></div></section></main><footer class="footer"><div class="footer-bottom"><div class="footer-copyright">© 2025 胡杨怕火. All rights reserved.</div><!-- Footer centered image with link--><div class="footer-image" style="text-align: center; margin: 15px 0;"><a href="https://bluearchive-cn.com/" target="_blank" rel="noopener noreferrer"><img src="https://github.com/funingna-wakawaka/picx-images-hosting/raw/master/碧蓝档案.3yew7g3xtc.webp" alt="Footer Image" style="max-width: 100%; height: auto;"/></a></div></div></footer></div><!-- 立即应用暗色模式，避免页面闪烁--><script>(function() {
  // 检查本地存储中的暗色模式设置
  const savedDarkMode = localStorage.getItem('darkMode') === 'true';
  // 如果设置为暗色模式，立即应用到body
  if (savedDarkMode) {
    document.body.classList.add('dark-mode');
  }

  // 防止页面闪烁，在DOM加载完成前设置一个初始类
  document.documentElement.style.visibility = 'hidden';
  document.addEventListener('DOMContentLoaded', function() {
    document.documentElement.style.visibility = 'visible';
  });
})();
</script>
<script src="/js/main.js"></script>

<script src="/js/tags.js"></script>

<script src="/js/categories-accordion.js"></script>

<script src="/js/highlight.js"></script>

<script src="/js/load-more.js"></script>

<script src="/js/header-scroll.js"></script>

<script src="/js/toc.js"></script>

<script src="/js/image-zoom.js"></script>

<script src="/js/share.js"></script>

<script src="/js/search.js"></script>

<script src="/js/hide-inline-interaction.js"></script>

<script src="/js/hide-toggle-interaction.js"></script>

<script src="/js/dark-mode-sync.js"></script>

<script src="/js/animations.js"></script>

<script src="/js/ai-theme.js"></script>

<script src="/js/loading-animation.js"></script>
<script>window.theme = {
  features: {"dark_mode":true,"smooth_scroll":true,"back_to_top":true,"loading_animation":true},
  code_block: {"height_limit":200,"enable_folding":true,"max_height":"300px","show_lang":true},
  ai_summary: {"enable":true,"api_key":"","summary_directly":false,"ai_name":"阿罗娜","ai_introduce":"老师好, 我是阿罗娜, 一个基于OpenAI GPT-4o的强大语言模型, 今天有什么可以帮到您? 😊","ai_version":"OpenAI GPT-4o","buttons":["介绍自己","来点灵感","生成AI简介"]},
  categories: {"layout":"accordion","accordion_animation":true,"show_empty_categories":true}
};
</script><script src="/js/ai.js"></script><script src="/js/postai.js"></script></body></html>